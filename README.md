# CRM —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —à–∫–æ–ª—ã

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∫–æ–ª–æ–π —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º —É—á–µ—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –≥—Ä—É–ø–ø, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.12+
- Node.js 18+
- PostgreSQL 14+

### –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ –ë–î PostgreSQL
createdb crm_school
```

2. **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
cd server
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
alembic upgrade head
uvicorn app.main:app --reload
```

3. **–ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞:**
```bash
cd client_crm
npm install
npm run dev
```

4. **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:**
- URL: http://localhost:5173
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin`

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏:** —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —É–¥–∞–ª–µ–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏:** —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏:** —Å–æ–∑–¥–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ª–æ–≥–∏–Ω–∞
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏**
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∫–æ–ª—ã:** –∫–æ–Ω—Ç–∞–∫—Ç—ã, —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### üîë –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å** - –ø—Ä–æ—Å–º–æ—Ç—Ä –≥—Ä—É–ø–ø –∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- **–ú–µ–Ω–µ–¥–∂–µ—Ä** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Backend:
- FastAPI
- PostgreSQL + SQLAlchemy
- Alembic (–º–∏–≥—Ä–∞—Ü–∏–∏)
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- bcrypt (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)

### Frontend:
- React 18 + TypeScript
- React Router 7
- Tailwind CSS
- shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
crm_school_g/
‚îú‚îÄ‚îÄ server/              # Backend (FastAPI)
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routers/    # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/     # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas/    # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/       # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ alembic/        # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îú‚îÄ‚îÄ client_crm/          # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ pages/      # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ components/ # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ contexts/   # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ lib/        # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ types/      # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ DEPLOYMENT.md        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- bcrypt –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ–Ω–æ—Å—É –Ω–∞ –¥—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: [DEPLOYMENT.md](DEPLOYMENT.md)

## üîÑ API Endpoints

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- `POST /auth/login` - –í—Ö–æ–¥
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `GET /auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –°—Ç—É–¥–µ–Ω—Ç—ã:
- `GET /students` - –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- `POST /students` - –°–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
- `GET /students/{id}` - –î–µ—Ç–∞–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞
- `PATCH /students/{id}` - –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
- `DELETE /students/{id}` - –£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞
- `GET /students/{id}/history` - –ò—Å—Ç–æ—Ä–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞

### –ì—Ä—É–ø–ø—ã:
- `GET /groups` - –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
- `POST /groups` - –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
- `GET /groups/{id}` - –î–µ—Ç–∞–ª–∏ –≥—Ä—É–ø–ø—ã
- `PATCH /groups/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
- `DELETE /groups/{id}` - –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É

### –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏:
- `GET /employees` - –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- `POST /employees` - –°–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- `DELETE /employees/{id}` - –£–¥–∞–ª–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
- `GET /settings` - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `PUT /settings` - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ UI

- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Tailwind CSS
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–æ–≤ (—Å–µ—Ç–∫–∞/—Ç–∞–±–ª–∏—Ü–∞) –¥–ª—è –≥—Ä—É–ø–ø
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Ñ–æ—Ä–º
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## üåê –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã.
